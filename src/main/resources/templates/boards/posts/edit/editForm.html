<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div>
        <h1 >자유 게시판 - 글 수정</h1>
        <form role="form" th:object="${postEditForm}" method="post">
            <div class="form-group mx-sm-1 mb-2">
                <select th:field="*{boardName}" class="form-control">
                    <option value="">게시판 종류</option>
                    <option th:each="boardName : ${T(donghyun.basicboard.domain.BoardName).values()}"
                            th:value="${boardName}"
                            th:text="${boardName}"
                            th:selected="${postEditForm.boardName} == ${boardName}"
                    >option
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label th:for="title">제목</label>
                <input type="text" th:field="*{title}" class="form-control" th:text="${postEditForm.title}">
<!--                <p th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Incorrect date</p>-->
            </div>
            <div class="form-group">
                <label class="mb-3">첨부 파일</label>
                <ul>
                    <li class="form-control">
                        첨부 파일들
                        <input type="file" th:name="*{uploadFiles}" multiple="multiple">
                    </li>
                </ul>
            </div>
            <div class="form-group">
                <div>첨부파일</div>
                <!--                <span th:text="${post.uploadFiles.uploadFile.getUploadFileName()}">첨부파일명</span>-->
                <div th:each="uploadFile : ${postEditForm.uploadFiles}">
                    <img class="rounded float-left" th:src="|/uploadFiles/${uploadFile.uploadFile.getStoreFileName()}|" width="300" height="300"/>
                    <button><a th:href="@{/boards/uploadFile/edit/{uploadFileId}(uploadFileId=${uploadFile.id})}">삭제</a></button>
                </div>


            </div>
            <div class="form-group">
                <label th:for="content">내용</label>
                <textarea th:field="*{content}" class="form-control" th:text="${postEditForm.content}">내용 입력</textarea>
                <!--                <input type="text" th:field="*{content}" class="form-control" placeholder="내용을 입력하세요" th:class="${#fields.hasErrors('content')}? 'form-control fieldError' : 'form-control'">-->
<!--                <p th:if="${#fields.hasErrors('content')}" th:errors="*{content}">Incorrect date</p>-->
            </div>
            <button type="submit" class="btn btn-primary">글 수정완료</button>
        </form>
    </div>
    <div th:replace="fragments/footer :: footer" />
</div> <!-- /container -->
</body>
</html>